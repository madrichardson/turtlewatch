---
title: "Data Dashboard"
format: html
toc: false
page-layout: full
anchor-sections: false
---

::: {.dashboard-card}
### Closure History

::: {.dashboard-grid}

::: {.dashboard-subcard}
#### Pacific Loggerhead Conservation Area Closures {.dashboard-title}

<p id="closure-text">Loading...</p>

<small>
*[Closure status provided by NOAA Fisheries West Coast Regional Office](https://www.westcoast.fisheries.noaa.gov/)*
</small>
:::

:::
:::

::: {.dashboard-card}
### Environmental Conditions

::: {.dashboard-grid}

::: {.dashboard-subcard}
#### El Niño Conditions {.dashboard-title}

<div>
<strong>Status:</strong> <span id="elnino-status">Loading...</span><br>
<strong>Synopsis:</strong> <span id="elnino-synopsis">Loading...</span><br>
<strong>Date:</strong> <span id="elnino-date">Loading...</span>
</div>
:::

::: {.dashboard-subcard}
#### Marine Heatwaves {.dashboard-title}

<div>
<strong>Status:</strong> <span id="heatwave-status">Loading...</span><br>
<strong>Forecast Date:</strong> <span id="heatwave-date">Loading...</span><br>
<strong>Period:</strong> <span id="heatwave-period">Loading...</span>
</div>
:::

:::
:::

::: {.dashboard-card}
### TOTAL Bycatch Avoidance Tool

::: {.dashboard-grid}

::: {.dashboard-subcard}
#### TOTAL Indicator {.dashboard-title}

<p><strong>Latest Index:</strong> <span id="indicator-value">Loading...</span></p>
<p><strong>Alert:</strong> <span id="indicator-alert">Loading...</span></p>
<p><strong>Forecast Date:</strong> <span id="indicator-date">Loading...</span></p>

![](data/images/indicator.png){#indicator-plot fig-align="center"}

:::
:::
:::

::: {.dashboard-card}
### Monthly Sea Surface Maps

::: {.dashboard-grid}

::: {.dashboard-subcard}
#### Sea Surface Temperature {.dashboard-title}

<img id="sst-map" alt="SST Map" style="max-width:100%;">
:::

::: {.dashboard-subcard}
#### Sea Surface Temperature Anomaly {.dashboard-title}

<img id="anom-map" alt="SST Anomaly Map" style="max-width:100%;">
:::

:::
:::

::: {.turtlewatch-disclaimer}
The information on this page may be used and redistributed freely, but is not intended for legal use. Neither the data contributors, CoastWatch, NOAA SWFSC, nor any of their employees or contractors, makes any warranty, express or implied, including warranties of merchantability and fitness for a particular purpose, or assumes any legal liability for the accuracy, completeness, or usefulness of this information. For official information about El Niño/La Niña contact [NOAA's Climate Prediction Center](https://www.cpc.ncep.noaa.gov/products/analysis_monitoring/enso_advisory/ensodisc.shtml). For official information about regulation of the drift gillnet (DGN) fishery contact [NOAA Fisheries West Coast Regional Office](https://www.westcoast.fisheries.noaa.gov/).
:::

```{=html}
<script>
document.addEventListener("DOMContentLoaded", async function() {
  // --- ENSO conditions ---
  try {
    const ensoResp = await fetch("data/json/elnino_last.json");
    const enso = await ensoResp.json();
    document.getElementById("elnino-status").textContent = enso.status || "N/A";
    document.getElementById("elnino-synopsis").textContent = enso.synopsis || "N/A";
    document.getElementById("elnino-date").textContent = enso.date_print || "N/A";
  } catch (err) {
    console.error("ENSO JSON not found:", err);
  }

  // --- Marine heatwaves ---
  try {
    const hwResp = await fetch("data/json/heatwave.json");
    const hw = await hwResp.json();
    document.getElementById("heatwave-status").textContent = hw.heat_status || "N/A";
    document.getElementById("heatwave-date").textContent = hw.heat_date || "N/A";
    document.getElementById("heatwave-period").textContent = hw.heat_period || "N/A";
  } catch (err) {
    console.error("Heatwave JSON not found:", err);
  }

  // --- TOTAL indicator ---
  try {
    const indResp = await fetch("data/json/latest.json");
    const ind = await indResp.json();
    document.getElementById("indicator-alert").textContent = ind.alert || "N/A";
    document.getElementById("indicator-date").textContent = ind.fc_date || "N/A";
    document.getElementById("indicator-value").textContent = ind.new_index || "N/A";
  } catch (err) {
    console.error("Indicator JSON not found:", err);
  }

  // --- Latest SST/Anomaly maps ---
  try {
    const mapsResp = await fetch("data/json/latest.json");
    const maps = await mapsResp.json();
    const latest = maps["t0"]; // most recent month
    if (latest) {
      document.getElementById("sst-map").src = "data/images/" + latest.sst_file;
      document.getElementById("anom-map").src = "data/images/" + latest.anom_file;
    }
  } catch (err) {
    console.error("Maps JSON not found:", err);
  }

  // --- Closure history ---
  try {
    const closureResp = await fetch("data/json/closure.json");
    const closure = await closureResp.json();
    document.getElementById("closure-text").textContent =
      closure.closure_status || "No closure data available.";
  } catch (err) {
    console.error("Closure JSON not found:", err);
  }
});
</script>